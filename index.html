<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For Kittu üíñ</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Pacifico&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #ffe6f0, #fff);
      color: #333;
      text-align: center;
      overflow-x: hidden;
    }

    /* PASSWORD GATE */
    #passwordGate {
      position: fixed;
      inset: 0;
      background: linear-gradient(135deg, #ffd6e8, #fff);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }

    .gate-card {
      background: white;
      padding: 35px 30px;
      border-radius: 30px;
      box-shadow: 0 20px 50px rgba(255,105,180,0.3);
      width: 300px;
    }

    .gate-card h2 {
      font-family: 'Pacifico', cursive;
      color: #ff69b4;
    }

    .pin-display {
      letter-spacing: 10px;
      font-size: 1.6rem;
      margin: 20px 0;
    }

    .keypad {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 12px;
    }

    .keypad button {
      padding: 16px;
      border-radius: 50%;
      border: none;
      background: #ffb6d9;
      color: white;
      font-size: 1.2rem;
      cursor: pointer;
    }

    .keypad button:hover { background: #ff69b4; }

    #errorMsg {
      color: #ff4f9a;
      display: none;
      margin-top: 10px;
      font-size: 0.9rem;
    }

    /* HEARTS */
    .heart {
      position: fixed;
      bottom: -20px;
      font-size: 20px;
      animation: floatUp 6s linear infinite;
      opacity: 0.7;
      pointer-events: none;
    }

    @keyframes floatUp {
      from { transform: translateY(0); opacity: 1; }
      to { transform: translateY(-110vh); opacity: 0; }
    }

    header {
      padding: 80px 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }

    h1 {
      font-family: 'Pacifico', cursive;
      font-size: 2.8rem;
    }

    h2 { font-size: 2rem; }

    p {
      max-width: 720px;
      margin: 0 auto 20px;
      line-height: 1.7;
    }

    .button {
      padding: 14px 30px;
      background: #ff69b4;
      color: white;
      border-radius: 30px;
      cursor: pointer;
      margin: 25px 0;
    }

    section { padding: 80px 20px; display: none; }

    .counter { font-size: 1.6rem; font-weight: 600; }

    .postcards {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 30px;
    }

    .card { width: 260px; height: 360px; perspective: 1000px; cursor: pointer; }

    .card-inner {
      width: 100%;
      height: 100%;
      transition: transform 0.8s;
      transform-style: preserve-3d;
      position: relative;
    }

    .card.flipped .card-inner { transform: rotateY(180deg); }

    .card-front, .card-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.15);
    }

    .card-front img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 20px;
    }

    .card-back {
      background: #fffafc;
      transform: rotateY(180deg);
      padding: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.95rem;
    }

    .question {
      margin: 20px auto;
      max-width: 720px;
      background: #fff;
      padding: 20px;
      border-radius: 20px;
      cursor: pointer;
    }

    .answer { display: none; margin-top: 10px; }
    .question.open .answer { display: block; }
  </style>
</head>
<body>

<!-- PASSWORD -->
<div id="passwordGate">
  <div class="gate-card">
    <h2>Hello Stranger üíñ</h2>
    <p>Enter our secret code</p>
    <div class="pin-display" id="pinDisplay">‚Ä¢ ‚Ä¢ ‚Ä¢ ‚Ä¢</div>
    <div class="keypad">
      <button onclick="pressKey('1')">1</button>
      <button onclick="pressKey('2')">2</button>
      <button onclick="pressKey('3')">3</button>
      <button onclick="pressKey('4')">4</button>
      <button onclick="pressKey('5')">5</button>
      <button onclick="pressKey('6')">6</button>
      <button onclick="pressKey('7')">7</button>
      <button onclick="pressKey('8')">8</button>
      <button onclick="pressKey('9')">9</button>
      <button onclick="clearPin()">‚Üê</button>
      <button onclick="pressKey('0')">0</button>
      <button onclick="submitPin()">‚úî</button>
    </div>
    <div id="errorMsg">Wrong code ü•∫</div>
  </div>
</div>

<header>
  <h1>Hi Kittu üíï</h1>
  <p>Get ready for 9 years of us</p>
  <div class="button" onclick="startJourney()">Start</div>
</header>

<section id="counterSection">
  <h2>How long have we been together? ‚è≥</h2>
  <div class="counter" id="counter"></div>
  <div class="button" onclick="showSection('memoriesSection')">Memories üíñ</div>
</section>

<section id="memoriesSection">
  <h2>Highlights of Us üíå</h2>
  <div class="postcards">
    <div class="card" onclick="flipCard(this)">
      <div class="card-inner">
        <div class="card-front"><img src="memory1.jpeg"></div>
        <div class="card-back">Our early days üíï</div>
      </div>
    </div>
  </div>
  <div class="button" onclick="showSection('triviaSection')">Trivia üí≠</div>
</section>

<section id="triviaSection">
  <div class="question" onclick="toggleAnswer(this)">
    Where did I first see you?
    <div class="answer">In school, with Anannya ‚Äî you were with your brother.</div>
  </div>
  <div class="button" onclick="showSection('letterSection')">Final Letter üíñ</div>
</section>

<section id="letterSection">
  <h2>For You üíó</h2>
  <p id="typedLetter"></p>
</section>

<script>
  const CORRECT_PASSWORD = "1423";
  let enteredPin = "";

  function pressKey(n) {
    if (enteredPin.length < 4) {
      enteredPin += n;
      updateDisplay();
    }
  }

  function clearPin() {
    enteredPin = enteredPin.slice(0, -1);
    updateDisplay();
  }

  function updateDisplay() {
    pinDisplay.innerText = enteredPin.padEnd(4, '‚Ä¢').split('').join(' ');
  }

  function submitPin() {
    if (enteredPin === CORRECT_PASSWORD) {
      passwordGate.style.display = "none";
      startHearts();
    } else {
      errorMsg.style.display = "block";
      enteredPin = "";
      updateDisplay();
    }
  }

  function startHearts() {
    setInterval(() => {
      const h = document.createElement("div");
      h.className = "heart";
      h.innerText = "üíñ";
      h.style.left = Math.random() * 100 + "vw";
      h.style.fontSize = Math.random() * 20 + 15 + "px";
      document.body.appendChild(h);
      setTimeout(() => h.remove(), 6000);
    }, 400);
  }

  function startJourney() {
    showSection("counterSection");
  }

  function showSection(id) {
    const s = document.getElementById(id);
    s.style.display = "block";
    s.scrollIntoView({ behavior: "smooth" });
  }

  function flipCard(c) { c.classList.toggle("flipped"); }
  function toggleAnswer(q) { q.classList.toggle("open"); }

  const startDate = new Date(2016, 11, 23);
  function updateCounter() {
    const now = new Date();
    let years = now.getFullYear() - startDate.getFullYear();
    if (now < new Date(now.getFullYear(), 11, 23)) years--;
    const last = new Date(startDate);
    last.setFullYear(startDate.getFullYear() + years);
    const diff = now - last;
    counter.innerHTML =
      `${years} years, ${Math.floor(diff/86400000)} days<br>
       ${Math.floor(diff/3600000)%24}h ${Math.floor(diff/60000)%60}m ${Math.floor(diff/1000)%60}s ‚ù§Ô∏è`;
  }
  setInterval(updateCounter, 1000);
  updateCounter();

  const letterText = `Happy 9 years Kittu bb!! üíñ\n\nI love you more than words. Here's to forever.`;
  let i = 0;
  function typeLetter() {
    if (i < letterText.length) {
      typedLetter.innerHTML += letterText[i] === "\n" ? "<br>" : letterText[i];
      i++;
      setTimeout(typeLetter, 40);
    }
  }

  new IntersectionObserver(e => {
    if (e[0].isIntersecting) typeLetter();
  }).observe(letterSection);
</script>
</body>
</html>
